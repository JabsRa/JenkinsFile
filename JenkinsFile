pipeline {
    agent any
    
    environment {
        KATALON_HOME = "C:\\Users\\jabal\\Katalon Studioo"
        PROJECT_PATH = "C:\\Users\\jabal\\Katalon Studio\\Katalon-Test\\LoyaltoQAassesment.prj"
        TEST_SUITE_PATH = "Test Suites\\Test Suite"
        EXECUTION_PROFILE = "default"
        BROWSER_TYPE = "Web Service"
    }
    
    stages {
        stage('Run Tests') {
            steps {
                bat """
                    cd %KATALON_HOME%
                    katalonc.exe -noSplash -runMode=console -consoleLog -projectPath="%PROJECT_PATH%" -retry=0 -testSuitePath="%TEST_SUITE_PATH%" -executionProfile="%EXECUTION_PROFILE%" -browserType="%BROWSER_TYPE%"
                """
            }
        }
    }
}
